---
layout: single
title: "DDR4 - hPPR"
categories: DDR4
toc: true
toc_sticky: true
toc_label: "페이지 주요 목차"
classes: wide

#published: false
---

## <u>hPPR 개요</u>
PPR이란 Fail 이 되는 **Row 주소를 전기적인 퓨즈 회로의 프로그래밍으로 고치는 것**이다. hPPR의 경우, DDR4에서는 BG당 1ROW를 수정할 수 있다.

퓨즈의 특성과 같이 전기적인 퓨즈(Electrical Fuse)는 한번 프로그램화 하여 동작하면 원상태(Un-fused)로 돌릴 수 없다. 따라서 제어 쪽에서는 의도하지 않는 hPPR 모드 진입과 수정을 하면 안된다. (특히 Command/Address training 시점)

두가지의 hard fail row address repair 시퀀스를 가지고 있고, 두개의 명령어 중 선택한다.  
- WRA : Refresh명령으로 데이터 유지하지만, 단 repair가 되어야 되는 Row가 포함된 2개Bank는 제외한다. BA[0]  Don’t care임  
- WR  : Refresh 명령이 이뤄지지 않는다.따라서 데이터유지도 안됨

hPPR 진입 시 순차적인 MRS 가드키(Guard key)는 의도하지 않는 hPPR 프로그래밍을 막는다. 이는 sPPR모드와 공용으로 사용 되며, 이를테면 hPPR/sPPR 가드키(Guard key)라 불리운다. hPPR(MR4\[13] 1설정)모드나 sPPR(MR4[5] 1설정)에 진입하면, hPPR/sPPR 가드키(Guard key)는 네개의 순차적인 MR0 명령을 요구한다. hPPR/sPPR 가드키(Guard key)는 아래 스펙에서와 같이 특별한 순서에 의해 진행된다. hPPR/sPPR 가드키(Guard key)가 실행되는 동안 어떠한 동작이나 인터럽션 즉 non MR 명령인 ACT, WR, RD 등과 같은 명령은 허용되지 않는다.

hPPR/sPPR 가드키(Guard key) 순서대로 입력되지 않거나, 다른 인터럽트를 받는 다면, 
- hPPR/sPPR 모드 역시 실행 안되고,  
- hPPR/sPPR 모드를 없애는 잘못된 명령 또한 실행 안된다. 
- 잘못된 명령은 또한 DRAM에 “lock up” 상태를 유발하지 않는다. 

추가로 hPPR 또는 sPPR 진입 시퀀스가 인터럽트가 된 상태면, 연속된 ACT, WR 명령어는 정상명령처럼 수행한다. 
hPPR동작이 이미 없어졌다면, MR4\[13](sPPR은 MR4\[5])은 다른 hPPR/sPPR이 실행되기 전까지 0으로 리셋 되어야 한다.   

<center><img src="/assets\images\DDR4\hPPR-MR0GuardKeys.jpg" width="90%" height="90%" title="가드키 스펙" alt="아무거나"/></center>


## <u>PPR 개요</u>



